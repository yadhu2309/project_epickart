{% extends 'base.html' %}
{% block title %}
Offer
{% endblock title %}
{% block content %}

{% include 'sidebar.html' %}

 <div id="content" style='background-color:#a3a3a2;' class="p-4 p-md-5 pt-5">
    <h2 class="mb-4">OFFER</h2>
     <span>
            <a href="{% url 'offer_add' %}" class='btn btn-dark me-5'>Add Offer</a>
        </span>
        <span>
          <a href="{% url 'product_offer' %}" class='btn btn-dark'>Product Offer</a>
      </span>
    <div class="row">
       
    </div>
    <table class="table mt-3 table-dark">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Percentage</th>
            <th scope="col">Valid</th>
            <th scope="col">Category</th>
            <th scope="col">Status</th>
            
          </tr>
        </thead>
        <tbody>
            {% for i in cate_off %}
          <tr>
                        <td>{{i.Name}}</td>
            <td>{{i.percentage}}</td>
            <td>{{i.valid_till}}</td>
            <td>{{i.cid.cate_name}}</td>
            <td>{{i.status}}</td>
            <td><a href="{% url 'offer_edit' i.id %}"  class='btn btn-warning '>Edit</a><a href='#' data-bs-toggle="modal" data-bs-target="#exampleModal{{i.id}}" class=' ms-3 btn btn-danger'>Cancel</a>
            <a href="" data-bs-toggle="modal" data-bs-target="#example{{i.id}}" class='ms-3 btn btn-secondary'>Delete</a></td>

          </tr>
          <div class="modal fade" id="exampleModal{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">EpicKart</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                Are you sure you want to Cancel this offer ?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                  <a class='btn btn-secondary' href="{% url 'remove_offer' i.id %}">OK</a>
                </div>
              </div>
            </div>
          </div>


          <div class="modal fade" id="example{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">EpicKart</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                Are you sure you want to Delete this offer ?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                  <a class='btn btn-secondary' href="{% url 'offer_delete' i.id %}">OK</a>
                </div>
              </div>
            </div>
          </div>
          
         {% endfor %}
        </tbody>
      </table>
 </div>
 <!-- Button trigger modal -->
 <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
 <script>
   {% for i in messages %}
   swal('Perfect',"{{i}}","success");
 {% endfor %}
 </script>
  
{% endblock content %}