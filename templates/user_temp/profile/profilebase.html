{% extends 'storeprofilebase.html' %}

{% block content %}

<style>
    body{
    overflow-x:hidden;
    }
    #epic{
        animation: ep 10s infinite;
        
      }
      @keyframes ep {
        0%   {background-color: black;color:white;}
      25%  {background-color: #cdcfd1;color:black}
      50%  {background-color: black;color:white}
      75%  {background-color: #cdcfd1;color:black}
      100% {background-color: black;color:white}
        
      }
      #kart{
        animation: kar 3s infinite;
        
        position:relative;
        animation-timing-function:linear;
      }
      @keyframes kar {
       0%{left:0px;}
       50%{left:100px;}
       100%{left:0px;}
        
      }
</style>

<!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Offcanvas Menu Begin -->
    <div class="offcanvas-menu-overlay"></div>
    <div class="offcanvas-menu-wrapper">
        <div class="offcanvas__option">
            <div class="offcanvas__links">
                <a href="{% url 'logout' user_info.id %}">Logout</a>
            </div>
            <div class="offcanvas__top__hover">

            </div>
        </div>
        <div class="offcanvas__nav__option">
           

        </div>
        <div id="mobile-menu-wrap"></div>
        <div class="offcanvas__text">

            <p color="white">{{user_info.name}}</p>
        </div>
    </div>
    <!-- Offcanvas Menu End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-7">
                        <div class="header__top__left">

                            <p color="white">{{user_info.name}}</p>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-5">
                        <div class="header__top__right">
                            <div class="header__top__links">

                 <a href="{% url 'logout' user_info.id %}">Logout</a>



                            </div>
                            <div class="header__top__hover">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="header__logo">
                        {% comment %} <a href="./index.html"><img src="img/logo.png" alt=""></a> {% endcomment %}
                        {% include 'logo_epickart.html' %}
                    </div>
                </div>
                <div class="col-lg-6 col-md-6">
                    <nav class="header__menu mobile-menu">
                        <ul>
                            <li><a href="{% url 'user_index' %}">Home</a></li>
                            <li><a href="{% url 'user_home'%}">Shop</a></li>


                            {% comment %} <li><a href="./contact.html">Contacts</a></li> {% endcomment %}
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="header__nav__option">
                        

                    </div>
                </div>
            </div>
            <div class="canvas__open"><i class="fa fa-bars"></i></div>
        </div>
    </header>
    <!-- Header Section End -->


    <section style="background-color: #eee;">
        <div class="container py-5">
          <div class="row">
            <div class="col">
              <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
                <ol class="breadcrumb mb-0">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  
                  <li class="breadcrumb-item active" aria-current="page">User Profile</li>
                </ol>
              </nav>
            </div>
          </div>
      
          <div class="row">
            <div class="col-lg-4">
              <div class="card mb-4 shadow">
                <div class="card-body text-center">
                  <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp" alt="avatar"
                    class="rounded-circle img-fluid" style="width: 150px;">
                  <h5 class="my-3">{{user_info.name | upper}}</h5>
                  <p class="text-muted mb-1">{{user_info.email}}</p>
                  {% comment %} <p class="text-muted mb-4">Bay Area, San Francisco, CA</p> {% endcomment %}
                  <div class="d-flex justify-content-center mb-2">
                    {% comment %} <button type="button" class="btn btn-primary">Follow</button>
                    <button type="button" class="btn btn-outline-primary ms-1">Message</button> {% endcomment %}
                  </div>
                </div>
              </div>
              <div class="card mb-4 mb-lg-0">
                <div class="card-body p-0">
                  <ul class="list-group list-group-flush rounded-3">
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                      <i class="fas fa-globe fa-lg text-warning"></i>
                      <p class="mb-0"> <a class="card-link" style="text-decoration:none;color:black" href="{% url 'cart_user_view' %}">My Cart</a></p>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                      <i class="fab fa-github fa-lg" style="color: #333333;"></i>
                      <p class="mb-0"><a href="{% url 'order_view' %}" style="text-decoration:none;color:black">My Orders</a></p>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                      <i class="fab fa-twitter fa-lg" style="color: #55acee;"></i>
                      <p class="mb-0"><a href="{% url 'view_wish' %}" style="text-decoration:none;color:black">Wishlist</a></p>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                      <i class="fab fa-instagram fa-lg" style="color: #ac2bac;"></i>
                      <p class="mb-0"><a href="{% url 'view_address' %}" style="text-decoration:none;color:black"> Address</a></p>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                      <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                      <p class="mb-0"><a href="{% url 'change_psw' user_info.id  %}" style="text-decoration:none;color:black">Change Password</a></p>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                        <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                        <p class="mb-0"><a href='' data-bs-toggle="modal" data-bs-target="#exampleModal" style="text-decoration:none;color:black">
                            Edit Profile
                           </a></p>
                      </li>
                      <li class="list-group-item d-flex justify-content-between align-items-center p-3">
                        <i class="fab fa-facebook-f fa-lg" style="color: #3b5998;"></i>
                        <p class="mb-0">
                          Wallet(â‚¹{{wallet}})
                           </p>
                      </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-8">
              <div class="card mb-4 shadow">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Name</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">{{user_info.name | upper}}</p>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Email</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">{{user_info.email}}</p>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Phone</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">{{user_info.number}}</p>
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Mobile</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">{{user_info.number}}</p>
                    </div>
                  </div>
                  
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Referral Code</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">{{refer_code}}</p>
                    </div>
                  </div>
                  {% comment %} <div class="row">
                    <div class="col-sm-3">
                      <p class="mb-0">Address</p>
                    </div>
                    <div class="col-sm-9">
                      <p class="text-muted mb-0">Bay Area, San Francisco, CA</p>
                    </div>
                  </div> {% endcomment %}
                </div>
              </div>
              
      </section>

      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">EpicKart</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" name='myForm'>
                    {% csrf_token %}
                    <div class="row">
      
                            <div class="col">
                                 <label>Name</label>
                                <br>
                                <input class="form-control" name="name" value="{{user_info.name}}" type="text" size="5" placeholder="Full Name" required>
                           <span id='name'></span>
                                 <label>Email</label>
                                <br>
                                <input class="form-control" name="email" value="{{user_info.email}}"  type="email" size="5" placeholder="Email Address" required>
                                <span id='email'></span>
                                 <label>Mobile Number</label>
                                <br>
                                <input class="form-control" name="number" value="{{user_info.number}}" type="text" size="5" placeholder="Mobile Number" required>
                                <span id='phone'></span>
                                <br>
                                <button class="btn btn-dark" onclick="return validate()" type="submit">
                                    Update
                                </button>
                               
                            </div>
      
                   </div>
                </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              
            </div>
          </div>
        </div>
      </div>


      <script>
        function validate(){
  

            var name = document.myForm.name.value;
            var email = document.myForm.email.value;
            var phone = document.myForm.numbur.value

            

          
          
            
            var text;
            if(name.length < 3 || fname.startsWith(" ") || isNaN(fname)){
              text = "Please Enter valid Name";
              alert(text)
              //document.getElementById("name").innerHTML = text;
              return false;
            }
              
              
             
               if(phone.startsWith(" ") || phone.length >10 || phone.length<10 || phone.length == 0 || isNaN(phone)){
                text = "Please Enter Phone number ";
                document.getElementById("phone").innerHTML = text;
                return false;
              }
          
          
           if(email.indexOf("@") == -1 || email.startsWith(" ")){
              text = "Please Enter valid Email";
              document.getElementById("email").innerHTML = text;
              return false;
            }
           
                
            
            else{
            return true;
            }
          }
    </script>


      
       {% comment %} <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
      <script>
        
        {% for i in messages %}
        swal("{{i}}");
      {% endfor %}
      </script>  {% endcomment %}
  
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
  {% load sweetify %}
{% sweetify %}
{% endblock %}
